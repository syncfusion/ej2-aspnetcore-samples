@page

@using EJ2CoreSampleBrowser.Models
@using Syncfusion.EJ2.Gantt;
@section ControlsSection{

    <div class="control-section">
        <div class="row">
            <div class="col-md-12">
                <ejs-gantt id='TimlineTemplate' dataSource="@GanttData.TimelineTemplateData()" height="450px"  allowSelection="true"
                            treeColumnIndex="1"
                           projectStartDate="03/31/2024" projectEndDate="04/23/2024" timelineTemplate="#timelineTemplates">
                    <e-gantt-taskfields id="TaskId" name="TaskName" startDate="StartDate" endDate="EndDate" duration="Duration" progress="Progress"
                                        dependency="Predecessor"  child="SubTasks">
                    </e-gantt-taskfields>
                    <e-gantt-columns>
                        <e-gantt-column field="TaskId" visible =false></e-gantt-column>
                        <e-gantt-column field="TaskName" width ="300"></e-gantt-column>
                        <e-gantt-column field="StartDate"></e-gantt-column>
                        <e-gantt-column field="EndDate"></e-gantt-column>
                        <e-gantt-column field="Duration"></e-gantt-column>
                        <e-gantt-column field="Progress"></e-gantt-column>
                    </e-gantt-columns>
                    <e-gantt-timelinesettings timelineUnitSize="200">
                        <e-timelinesettings-toptier unit="Day"></e-timelinesettings-toptier>
                    </e-gantt-timelinesettings>
                    <e-gantt-labelSettings leftLabel="TaskName"></e-gantt-labelSettings>
                    <e-gantt-splittersettings columnIndex="1"></e-gantt-splittersettings>
                </ejs-gantt>
            </div>
        </div>
    </div>

  <style>
            .e-gantt .e-gantt-tree-grid-pane .e-timeline-single-header-outer-div{
                height: 70px !important;
            }
            .e-gantt .e-gantt-chart .e-timeline-single-header-outer-div {
                height: 70px !important;
            }
            .e-gantt .e-gantt-chart .e-timeline-single-header-cell {
                height: 70px !important;
            }
            .e-header-cell-label.e-gantt-top-cell-text {
                background-color: #fff;
            }
            .fluent2-highcontrast .e-header-cell-label.e-gantt-top-cell-text,
            .fluent2-dark .e-header-cell-label.e-gantt-top-cell-text,
            .fluent-dark .e-header-cell-label.e-gantt-top-cell-text {
                background-color: #000;
            }

    </style>

                <script type="text/x-template" id="timelineTemplates">
                    ${if(tier == 'topTier')} 
                <div class="e-header-cell-label e-gantt-top-cell-text" style="width:100%;  font-weight: bold;height: 100%;display: flex; justify-content: center ; align-items: center;   "title=${date}> 
                <div style="width:100%; height: 100%; display: flex; justify-content: center ; align-items: center;flex-direction: column; " > 
                    <div style=" line-height: initial; font-weight: normal;">${weekDate(date)}</div>
                    <div style=" line-height: normal; padding-top: 5px; padding-bottom: 2px; font-weight: normal;">${formatDate(date)}</div>
                    <div style="width:20px; height: 20px; line-height: normal;">
                        <img style="width:100%; height:100%;" src =${imageString(value)}   >
                        </div>
                </div> 
                </div>
                ${/if}
    </script>



    <script>     
        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }
        function weekDate(dateString) {
            const date = new Date(dateString);
            const options = { weekday: 'short'}; // Include day of the week and day of the month
            return date.toLocaleDateString('en-US', options);
        }
        function imageString(value){
            return '../images/Gantt/'+ value +".svg" ;
        }

    </script>

}

@section ActionDescription{
    <div id="action-description">
        <p>This sample explains the way of rendering timeline template by mapping template elements to the<a target="_blank" href="https://help.syncfusion.com/cr/aspnetcore-js2/syncfusion.ej2.gantt.gantt.html#Syncfusion_EJ2_Gantt_Gantt_TimelineTemplate">
        timelineTemplate</a> property.</p>
    </div>
}
@section Description{

    <div id="description">
       <p>
        In this demo, the timelineTemplate property enables the customization of timeline cells with any HTML content, allowing for enhanced visual appeal and personalized functionality.
        <p>The template contains these context properties to design the timeline cells.</p>
        <li><code>date</code>: Defines the date of timeline date.</li>
        <li><code>value</code>: Defines the date value to display in the timeline.</li>
        <li><code>tier</code>: Defines the tier of timeline.</li>
    </p>

    </div>
}
@section Meta{
                    <meta name="description" content="This example demonstrates the Timeline Template in ASP.NET Core Gantt control. Explore here for more details."/>
                }
@section Title{
                    <title>ASP.NET Core Gantt Timeline Template Example - Syncfusion Demos </title> 
                }
@section Header{
                    <h1 class='sb-sample-text'>Example of Timeline Template in ASP.NET Core Gantt Control</h1>
                }