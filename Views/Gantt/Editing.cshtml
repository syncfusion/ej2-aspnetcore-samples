@using Syncfusion.EJ2.Gantt;
@section ControlsSection{
  <div class="control-section">
        <div class="row">
            <div class="col-md-12">
                <ejs-gantt id='Editing' dataSource="ViewBag.dataSource" gridLines="Both"
                    treeColumnIndex="1" height="450px" allowSelection="true"  highlightWeekends="true"
                    resources="ViewBag.projectResources" resourceIDMapping="ResourceId" resourceNameMapping="ResourceName"
                    projectStartDate="03/25/2019" projectEndDate="07/28/2019"
                    toolbar="@(new List<string>() { "Add", "Edit", "Update", "Delete", "Cancel", "ExpandAll", "CollapseAll" })">
                    <e-gantt-taskfields id="TaskId" name="TaskName" startDate="StartDate"
                            endDate="EndDate" duration="Duration" progress="Progress" dependency="Predecessor"
                            child="SubTasks" notes="Notes" resourceInfo="ResourceId">
                    </e-gantt-taskfields>
                    <e-gantt-columns>
                        <e-gantt-column field="TaskId" width="60"></e-gantt-column>
                        <e-gantt-column field="TaskName" headerText="Job Name" width="250" clipMode="EllipsisWithTooltip"></e-gantt-column>
                        <e-gantt-column field="StartDate"></e-gantt-column>
                        <e-gantt-column field="Duration"></e-gantt-column>
                        <e-gantt-column field="Progress"></e-gantt-column>
                        <e-gantt-column field="Predecessor"></e-gantt-column>
                    </e-gantt-columns>
                    <e-gantt-editsettings allowAdding="true" allowEditing="true" allowDeleting="true"
                    allowTaskbarEditing="true" showDeleteConfirmDialog="true"></e-gantt-editsettings>
                    <e-gantt-timelinesettings>
                        <e-timelinesettings-toptier unit="Week" format="MMM dd, y"></e-timelinesettings-toptier>
                        <e-timelinesettings-bottomtier unit="Day"></e-timelinesettings-bottomtier>
                    </e-gantt-timelinesettings>
                    <e-gantt-labelSettings leftLabel="TaskName" rightLabel="${if(taskData.SubTasks)}${taskData.Duration} ${else if(ResourceId)}${ResourceId}${/if}"></e-gantt-labelSettings>
                    <e-gantt-eventmarkers>
                        <e-gantt-eventmarker day="4/17/2019" label="Project approval and kick-off"></e-gantt-eventmarker>
                        <e-gantt-eventmarker day="5/3/2019" label="Foundation inspection"></e-gantt-eventmarker>
                        <e-gantt-eventmarker day="6/7/2019" label="Site manager inspection"></e-gantt-eventmarker>
                        <e-gantt-eventmarker day="7/16/2019" label="Property handover and sign-off"></e-gantt-eventmarker>
                    </e-gantt-eventmarkers>
                    <e-gantt-editdialogfields>
                        <e-gantt-editdialogfield type="General"></e-gantt-editdialogfield>
                        <e-gantt-editdialogfield type="Dependency"></e-gantt-editdialogfield>
                        <e-gantt-editdialogfield type="Resources"></e-gantt-editdialogfield>
                        <e-gantt-editdialogfield type="Notes"></e-gantt-editdialogfield>
                    </e-gantt-editdialogfields>
                </ejs-gantt>
            </div>
        </div>
    </div>
}

@section ActionDescription{
    <div id="action-description">
        <p>
            This sample demonstrates the various phases involved in constructing a residential house, from testing the soil to handing over the fully constructed property to the owner. This also demonstrates CRUD operations in a Gantt chart.
            You can perform CRUD operations as follows,
            <ul>
                <li><code>Add</code> - To add new task, click Add toolbar button</li>
                <li>
                    <code>Edit </code>- To edit a task, double click a row or double click a taskbar or click toolbar Edit
                    button after
                    selected a row
                </li>
                <li><code>Delete</code> - To delete a task, click toolbar Delete button after selected a row</li>
                <li>
                    <code>Update, Cancel</code> - You can save or discard changes by click toolbar Update and Cancel button
                    respectively
                </li>
            </ul>
        </p>
    </div>
}
@section Description{

    <div id="description">
        <p>
            This CRUD operations can be configured in Gantt chart using <code>editSettings</code> and <code>allowTaskbarEditing</code>. Gantt chart
            has two modes to manipulate the datasource
            <ul>
                <li><code>Auto</code></li>
                <li><code>Dialog</code></li>
            </ul>
            In this demo, <code>Auto</code> mode is enabled for editing. On the TreeGrid side, you can start editing any row by double
            clicking on it or clicking on toolbar’s Edit button, then the currently selected row will be changed to edited
            state. On the chart side, you can edit the tasks using edit dialog by double clicking on the taskbars and you
            can edit the dependency connector lines using drag and drop action with connector line points available on the
            either side of taskbar.
        </p>
        <br />
    </div>
}
@section Meta{
    <meta name="description" content="This example demonstrates the cell editing, dialog editing, taskbar editing and dependency editing support in Gantt" />
}